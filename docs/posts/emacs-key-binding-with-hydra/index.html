<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="できるだけデフォルトを上書きしないようにと配慮しながらEmacsのキーバインドを考えるとなるとなかなか難しいですね。うまく割り当てできたとし" />
<meta name="keywords" content="blog,developer,personal, hydra" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://minorugh.github.io/posts/emacs-key-binding-with-hydra/" />


    <title>
        
            HydraでEmacsのキーバインド問題を解消する :: minoru&#39;s GitHub Pages 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css">


    
        <link rel="stylesheet" type="text/css" href="/css/amazon.css">
    

    
        <link rel="stylesheet" type="text/css" href="/css/adsense.css">
    


    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="HydraでEmacsのキーバインド問題を解消する">
<meta itemprop="description" content="できるだけデフォルトを上書きしないようにと配慮しながらEmacsのキーバインドを考えるとなるとなかなか難しいですね。うまく割り当てできたとし">
<meta itemprop="datePublished" content="2019-03-25T16:37:37+09:00" />
<meta itemprop="dateModified" content="2019-03-25T16:37:37+09:00" />
<meta itemprop="wordCount" content="5303">



<meta itemprop="keywords" content="hydra," />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="HydraでEmacsのキーバインド問題を解消する"/>
<meta name="twitter:description" content="できるだけデフォルトを上書きしないようにと配慮しながらEmacsのキーバインドを考えるとなるとなかなか難しいですね。うまく割り当てできたとし"/>





    <meta property="article:section" content="emacs" />



    <meta property="article:published_time" content="2019-03-25 16:37:37 &#43;0900 JST" />










    </head>

    
	<body>
	  

      <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/minorugh</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/profile/">Profile</a></li><li><a href="/projects/">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        11 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="http://minorugh.github.io/posts/emacs-key-binding-with-hydra/">HydraでEmacsのキーバインド問題を解消する</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>できるだけデフォルトを上書きしないようにと配慮しながらEmacsのキーバインドを考えるとなるとなかなか難しいですね。うまく割り当てできたとしてもとても覚えて使いこなすのは至難です。その問題を解消して視覚的で使いやすいUIを提供してくれるのが <code>Hydra</code> です。</p>
<p><code>Hydra</code> はとても奥が深くまだまだ使いこなせないのですが、勉強を兼ねていろいろ設定しましたので備忘録を兼ねてご紹介します。こうすればなお良い…というようなアドバイスを頂けると嬉しいです。</p>
<p>設定の大部分は、hydraの作者である<a href="https://github.com/abo-abo/hydra">abo-abo氏</a>のTipsを参考にしました。</p>
<ul>
<li><a href="https://github.com/abo-abo/hydra/wiki">Hydra Wiki</a></li>
</ul>
<h2 id="hydra-melpa">Hydra-melpa</h2>
<p><img src="https://farm8.staticflickr.com/7872/46740221354_14cd554345_b.jpg" alt="Alt Text"></p>
<p>emacsのパッケージ管理はいろいろあるようですが、私はMelpaを利用して、必要なパッケージは、<a href="https://github.com/minorugh/emacs.d/blob/master/init.el" title="init.el">init.el</a> に書いて自動インストールされるようにしているのですが、メンテナンス（package-install、update、remove） のためのコマンドをhydraで設定しています。</p>
<p><code>M-x package-list-packege</code> でリストを表示させてもいいのですが &ldquo;U&rdquo; で <code>update</code> すると全てが対象になって思わぬトラブルに遭遇することもあるので、<code>package-utils</code> というパッケージを使っています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; use package-utils.el</span>
(defhydra hydra-melpa (:color red :hint <span style="color:#66d9ef">nil</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Package: _u_pdate  _r_emove  _i_nstall&#34;</span>
   (<span style="color:#e6db74">&#34;u&#34;</span> package-utils-upgrade-by-name)
   (<span style="color:#e6db74">&#34;r&#34;</span> package-utils-remove-by-name)
   (<span style="color:#e6db74">&#34;i&#34;</span> package-install))

</code></pre></div><h2 id="hydra-git-gutter">Hydra-git-gutter</h2>
<p><img src="https://farm8.staticflickr.com/7910/32521618977_d29bd033c3_b.jpg" alt="Alt Text"></p>
<p>emacsの設定ファイル群は、Gitで管理していますので、<code>magit</code> は必要不可欠です。</p>
<p>編集中は、git-gutterが便利なのでまとめてhydraに設定しています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;; 02_git.el --- 02_git.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;; (setq debug-on-error t)</span>

<span style="color:#75715e">;; magit</span>
(<span style="color:#a6e22e">autoload</span> <span style="color:#e6db74">&#39;magit-status</span> <span style="color:#e6db74">&#34;magit&#34;</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
(defadvice magit-status (around magit-fullscreen activate)
  <span style="color:#e6db74">&#34;Magit-status always in fullr screen.&#34;</span>
  (window-configuration-to-register :magit-fullscreen)
  ad-do-it
  (delete-other-windows))
(bind-key [f8] <span style="color:#e6db74">&#39;magit-status</span>)

<span style="color:#75715e">;; git-gutter</span>
(global-git-gutter-mode <span style="color:#66d9ef">t</span>)
(defun git-gutter:toggle-popup-hunk ()
  <span style="color:#e6db74">&#34;Toggle git-gutter hunk window.&#34;</span>
  (interactive)
  (if (<span style="color:#a6e22e">window-live-p</span> (git-gutter:popup-buffer-window))
      (delete-window (git-gutter:popup-buffer-window))
    (git-gutter:popup-hunk)))

<span style="color:#75715e">;; Hydra</span>
(bind-key
 <span style="color:#e6db74">&#34;s-g&#34;</span>
 (defhydra hydra-git-gutter (:color red :hint <span style="color:#66d9ef">nil</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">_m_agit  _b_lame  _d_ispatch  _t_imemachine  |  hunk: _p_revious  _n_ext  _s_tage  _r_evert  pop_u_p  _SPC_:toggle&#34;</span>
   (<span style="color:#e6db74">&#34;m&#34;</span> magit-status :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;b&#34;</span> magit-blame :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;t&#34;</span> git-timemachine :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;d&#34;</span> magit-dispatch :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;p&#34;</span> git-gutter:previous-hunk)
   (<span style="color:#e6db74">&#34;n&#34;</span> git-gutter:next-hunk)
   (<span style="color:#e6db74">&#34;s&#34;</span> git-gutter:stage-hunk)
   (<span style="color:#e6db74">&#34;r&#34;</span> git-gutter:revert-hunk)
   (<span style="color:#e6db74">&#34;u&#34;</span> git-gutter:popup-hunk)
   (<span style="color:#e6db74">&#34;SPC&#34;</span> git-gutter:toggle-popup-hunk)))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 02_git.el ends here</span>
</code></pre></div><h2 id="hydra-counsel">Hydra-counsel</h2>
<p><img src="https://farm8.staticflickr.com/7879/40497283063_7891bbb92f_b.jpg" alt="Alt Text"></p>
<p>私のemacsの補完インターフェイスは、脱Helmにこだわっています。</p>
<ul>
<li><a href="https://qiita.com/tadsan/items/33ebb8db2271897a462b">君は誰とEmacsる？ (補完インターフェイス紹介篇)</a></li>
</ul>
<p>counselはとても優秀で便利なのですがキーバインドが覚えられないのでhydraにしました。頻繁に使うオーソドックなものは別にキーバインドするので、hydraからは除外しています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 05_counsel.el --- 05_counsel.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;; (setq debug-on-error t)</span>

(ivy-mode <span style="color:#ae81ff">1</span>)
(setq ivy-use-virtual-buffers <span style="color:#66d9ef">t</span>)
(setq ivy-use-selectable-prompt <span style="color:#66d9ef">t</span>)
(setq enable-recursive-minibuffers <span style="color:#66d9ef">t</span>)
(bind-key <span style="color:#e6db74">&#34;M-:&#34;</span> <span style="color:#e6db74">&#39;ivy-switch-buffer</span>)
(bind-key <span style="color:#e6db74">&#34;M-s&#34;</span> <span style="color:#e6db74">&#39;swiper-for-region-or-swiper</span>)
(bind-key <span style="color:#e6db74">&#34;C-s&#34;</span> <span style="color:#e6db74">&#39;swiper-migemo</span>)
(bind-key <span style="color:#e6db74">&#34;M-x&#34;</span> <span style="color:#e6db74">&#39;counsel-M-x</span>)
(bind-key <span style="color:#e6db74">&#34;C-x C-f&#34;</span> <span style="color:#e6db74">&#39;counsel-find-file</span>)

<span style="color:#75715e">;; hydra-counsel</span>
(bind-key
 <span style="color:#e6db74">&#34;C-/&#34;</span>
(defhydra hydra-counsel (:hint <span style="color:#66d9ef">nil</span> :exit <span style="color:#66d9ef">t</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Counsel: describ-_f_unction   _i_nfo-lookup-symbol    _d_iscbinds      _y_ank-pop    _l_ocate      _a_g
</span><span style="color:#e6db74">         describ-_v_ariable   find-_L_ibrary          _u_nicode-char   _m_ark-ring   _g_it-grep    _r_g&#34;</span>
(<span style="color:#e6db74">&#34;d&#34;</span> counsel-descbinds)
(<span style="color:#e6db74">&#34;y&#34;</span> counsel-yank-pop)
(<span style="color:#e6db74">&#34;m&#34;</span> counsel-mark-ring)
(<span style="color:#e6db74">&#34;f&#34;</span> counsel-describe-function)
(<span style="color:#e6db74">&#34;v&#34;</span> counsel-describe-variable)
(<span style="color:#e6db74">&#34;L&#34;</span> counsel-find-library)
(<span style="color:#e6db74">&#34;i&#34;</span> counsel-info-lookup-symbol)
(<span style="color:#e6db74">&#34;u&#34;</span> counsel-unicode-char)
(<span style="color:#e6db74">&#34;g&#34;</span> counsel-git-grep)
(<span style="color:#e6db74">&#34;i&#34;</span> counsel-git)
(<span style="color:#e6db74">&#34;a&#34;</span> counsel-ag)
(<span style="color:#e6db74">&#34;r&#34;</span> counsel-rg)
(<span style="color:#e6db74">&#34;l&#34;</span> counsel-locate)))

<span style="color:#75715e">;; swiper-for-region-or-swiper</span>
(defun swiper-for-region-or-swiper ()
  <span style="color:#e6db74">&#34;If the region is active, swiper-for-region.
</span><span style="color:#e6db74">If the region is inactive, swiper.&#34;</span>
  (interactive)
  (if (region-active-p)
      (swiper (<span style="color:#a6e22e">buffer-substring</span>
               (<span style="color:#a6e22e">region-beginning</span>) (<span style="color:#a6e22e">region-end</span>)))
    (swiper)))

<span style="color:#75715e">;; swiper-migemo</span>
(use-package avy-migemo-e.g.swiper)
(defun swiper-migemo ()
  <span style="color:#e6db74">&#34;Using migemo with Swiper.&#34;</span>
  (interactive)
  (avy-migemo-mode <span style="color:#ae81ff">1</span>)
  (swiper)
  (avy-migemo-mode <span style="color:#ae81ff">0</span>))


<span style="color:#75715e">;; counsel-tramp</span>
(setq tramp-default-method <span style="color:#e6db74">&#34;ssh&#34;</span>)

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 05_counsel.el ends here</span>
</code></pre></div><h2 id="hydra-dired">Hydra-dired</h2>
<p><img src="https://farm8.staticflickr.com/7823/46740221464_793fb5eb10_b.jpg" alt="Alt Text"></p>
<p>diredのキーバインドはよく使うのですぐに覚えますから、あえてhydraにこだわることもないでしょう。お気に入りのデレクトリを一発で開いたり、trampを起動させたり、macアプリのfinder.app（ファイラー）や iterm（ターミナルアプリ）を起動させたりというショートカット機能も加えて遊んでみました。</p>
<p>dired-modeから &ldquo;.&rdquo; でtoggle表示させているところが味噌です。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 30_dired.el --- 30_dired.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;; (setq debug-on-error t)</span>

<span style="color:#75715e">;; Dired files deleted by trash and no ask recursive</span>
(setq delete-by-moving-to-trash <span style="color:#66d9ef">t</span>
      dired-recursive-copies <span style="color:#e6db74">&#39;always</span>
      dired-recursive-deletes <span style="color:#e6db74">&#39;always</span>)

(with-eval-after-load <span style="color:#e6db74">&#39;dired</span>
  (bind-key <span style="color:#e6db74">&#34;RET&#34;</span> <span style="color:#e6db74">&#39;dired-open-in-accordance-with-situation</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;e&#34;</span> <span style="color:#e6db74">&#39;wdired-change-to-wdired-mode</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;o&#34;</span> <span style="color:#e6db74">&#39;dired-view-file-other-window</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;[&#34;</span> <span style="color:#e6db74">&#39;dired-hide-details-mode</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#e6db74">&#39;dired-list-all-mode</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;q&#34;</span> <span style="color:#e6db74">&#39;dired-dwim-quit-window</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;W&#34;</span> <span style="color:#e6db74">&#39;dired-get-fullpath-filename</span> dired-mode-map)    <span style="color:#75715e">;; w:file name only</span>
  (bind-key <span style="color:#e6db74">&#34;z&#34;</span> <span style="color:#e6db74">&#39;dired-zip-files</span> dired-mode-map)    <span style="color:#75715e">;; Create an archive containing the marked files</span>
  (bind-key <span style="color:#e6db74">&#34;&lt;left&gt;&#34;</span> <span style="color:#e6db74">&#39;dired-up-alternate-directory</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;&lt;right&gt;&#34;</span> <span style="color:#e6db74">&#39;dired-open-in-accordance-with-situation</span> dired-mode-map)
  (bind-key <span style="color:#e6db74">&#34;C-x C-j&#34;</span> <span style="color:#e6db74">&#39;dired-jump</span>))


<span style="color:#75715e">;; direx</span>
(setq direx:leaf-icon <span style="color:#e6db74">&#34;  &#34;</span> direx:open-icon <span style="color:#e6db74">&#34;▾ &#34;</span> direx:closed-icon <span style="color:#e6db74">&#34;▸ &#34;</span>)
(push <span style="color:#f92672">&#39;</span>(direx:direx-mode :position left :width <span style="color:#ae81ff">30</span> :dedicated <span style="color:#66d9ef">t</span>)
      popwin:special-display-config)

(bind-key [f11] <span style="color:#e6db74">&#39;direx:jump-to-project-directory</span>)
(defun direx:jump-to-project-directory ()
  <span style="color:#e6db74">&#34;If in project, launch direx-project otherwise start direx.&#34;</span>
  (interactive)
  (let ((result (ignore-errors
                  (direx-project:jump-to-project-root-other-window)
                  <span style="color:#66d9ef">t</span>)))
    (unless result
      (direx:jump-to-directory-other-window))))


<span style="color:#75715e">;; When dired opened in two windows, move or copy in the other dired</span>
(setq dired-dwim-target <span style="color:#66d9ef">t</span>)


<span style="color:#75715e">;; Recursively copy directory</span>
(setq dired-recursive-copies <span style="color:#e6db74">&#39;always</span>)


<span style="color:#75715e">;; Dired with directory first</span>
(use-package ls-lisp)
(setq ls-lisp-use-insert-directory-program <span style="color:#66d9ef">nil</span> ls-lisp-dirs-first <span style="color:#66d9ef">t</span>)


<span style="color:#75715e">;; Add [Dir] to the directory buffer</span>
(defun dired-my-append-buffer-name-hint ()
  <span style="color:#e6db74">&#34;Append a auxiliary string to a name of dired buffer.&#34;</span>
  (when (<span style="color:#a6e22e">eq</span> major-mode <span style="color:#e6db74">&#39;dired-mode</span>)
    (let* ((dir (<span style="color:#a6e22e">expand-file-name</span> list-buffers-directory))
           <span style="color:#75715e">;; Add a drive letter for Windows</span>
           (drive (if (and (<span style="color:#a6e22e">eq</span> <span style="color:#e6db74">&#39;system-type</span> <span style="color:#e6db74">&#39;windows-nt</span>)
                           (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;^\\([a-zA-Z]:\\)/&#34;</span> dir))
                      (match-string <span style="color:#ae81ff">1</span> dir) <span style="color:#e6db74">&#34;&#34;</span>)))
      (<span style="color:#a6e22e">rename-buffer</span> (<span style="color:#a6e22e">concat</span> (<span style="color:#a6e22e">buffer-name</span>) <span style="color:#e6db74">&#34; [&#34;</span> drive <span style="color:#e6db74">&#34;dir]&#34;</span>) <span style="color:#66d9ef">t</span>))))
(add-hook <span style="color:#e6db74">&#39;dired-mode-hook</span> <span style="color:#e6db74">&#39;dired-my-append-buffer-name-hint</span>)


<span style="color:#75715e">;; Toggle listing dot files in dired</span>
<span style="color:#75715e">;; https://github.com/10sr/emacs-lisp/blob/master/docs/elpa/dired-list-all-mode-20161115.118.el</span>
(when (require <span style="color:#e6db74">&#39;dired-list-all-mode</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>)
   (setq dired-listing-switches <span style="color:#e6db74">&#34;-lhFG&#34;</span>))


<span style="color:#75715e">;; Quit-window according to screen division</span>
(defun dired-dwim-quit-window ()
  <span style="color:#e6db74">&#34;`quit-window &#39;according to screen division.&#34;</span>
  (interactive)
  (quit-window (not (<span style="color:#a6e22e">delq</span> (<span style="color:#a6e22e">selected-window</span>) (get-buffer-window-list)))))


<span style="color:#75715e">;; Get fullpath-filename with W (for file name only w)</span>
(defun dired-get-fullpath-filename ()
  <span style="color:#e6db74">&#34;Copy file name (full path) of cursor position.&#34;</span>
  (interactive)
  (kill-new (dired-get-filename))
  (<span style="color:#a6e22e">message</span> (dired-get-filename)))


<span style="color:#75715e">;; File are opened in separate buffer, directories are opened in same buffer</span>
<span style="color:#75715e">;; http://nishikawasasaki.hatenablog.com/entry/20120222/1329932699</span>
(defun dired-open-in-accordance-with-situation ()
  <span style="color:#e6db74">&#34;Files are opened in separate buffers, directories are opened in the same buffer.&#34;</span>
  (interactive)
  (let ((file (dired-get-filename)))
    (if (<span style="color:#a6e22e">file-directory-p</span> file)
        (dired-find-alternate-file)
      (dired-find-file))))


<span style="color:#75715e">;; View-file-other-window</span>
<span style="color:#75715e">;; http://y0m0r.hateblo.jp/entry/20120219/1329657774</span>
(defun dired-view-file-other-window ()
  <span style="color:#e6db74">&#34;View-file other window.&#34;</span>
  (interactive)
  (let ((file (dired-get-file-for-visit)))
    (if (<span style="color:#a6e22e">file-directory-p</span> file)
	(or (and (<span style="color:#a6e22e">cdr</span> dired-subdir-alist)
		 (dired-goto-subdir file))
	    (dired file))
      (view-file-other-window file))))


<span style="color:#75715e">;; Move to higher directory without make new buffer</span>
(defun dired-up-alternate-directory ()
   <span style="color:#e6db74">&#34;Move to higher directory without make new buffer.&#34;</span>
   (interactive)
   (let* ((dir (dired-current-directory))
          (up (<span style="color:#a6e22e">file-name-directory</span> (<span style="color:#a6e22e">directory-file-name</span> dir))))
     (or (dired-goto-file (<span style="color:#a6e22e">directory-file-name</span> dir))
         <span style="color:#75715e">;; Only try dired-goto-subdir if buffer has more than one dir.</span>
         (and (<span style="color:#a6e22e">cdr</span> dired-subdir-alist)
              (dired-goto-subdir up))
         (progn
           (find-alternate-file up)
           (dired-goto-file dir)))))


<span style="color:#75715e">;; Automatic deletion for empty files (Valid in all modes)</span>
<span style="color:#75715e">;; https://uwabami.github.io/cc-env/Emacs.html#org57f6557</span>
(defun my:delete-file-if-no-contents ()
  <span style="color:#e6db74">&#34;Automatic deletion for empty files.&#34;</span>
  (when (and (<span style="color:#a6e22e">buffer-file-name</span> (<span style="color:#a6e22e">current-buffer</span>))
             (<span style="color:#a6e22e">=</span> (<span style="color:#a6e22e">point-min</span>) (<span style="color:#a6e22e">point-max</span>)))
    (<span style="color:#a6e22e">delete-file</span>
     (<span style="color:#a6e22e">buffer-file-name</span> (<span style="color:#a6e22e">current-buffer</span>)))))
(if (not (<span style="color:#a6e22e">memq</span> <span style="color:#e6db74">&#39;my:delete-file-if-no-contents</span> after-save-hook))
    (setq after-save-hook
          (<span style="color:#a6e22e">cons</span> <span style="color:#e6db74">&#39;my:delete-file-if-no-contents</span> after-save-hook)))


<span style="color:#75715e">;; Hide .DS_Store when dotfiles listed</span>
(when (<span style="color:#a6e22e">eq</span> system-type <span style="color:#e6db74">&#39;darwin</span>)
(use-package dired-x)
(setq dired-omit-mode <span style="color:#66d9ef">t</span>)
(setq-default dired-omit-files-p <span style="color:#66d9ef">t</span>)
(setq dired-omit-files <span style="color:#e6db74">&#34;^\\.DS_Store\\|^\\.dropbox&#34;</span>))


<span style="color:#75715e">;; zip file can be expanded with Z key</span>
(eval-after-load <span style="color:#e6db74">&#34;dired-aux&#34;</span>
   <span style="color:#f92672">&#39;</span>(add-to-list <span style="color:#e6db74">&#39;dired-compress-file-suffixes</span>
                 <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;\\.zip\\&#39;&#34;</span> <span style="color:#e6db74">&#34;.zip&#34;</span> <span style="color:#e6db74">&#34;unzip&#34;</span>)))


<span style="color:#75715e">;; Create an archive containing the marked files</span>
<span style="color:#75715e">;; https://stackoverflow.com/questions/1431351/how-do-i-uncompress-unzip-within-emacs</span>
(defun dired-zip-files (zip-file)
  <span style="color:#e6db74">&#34;Create an archive containing the marked files.&#34;</span>
  (interactive <span style="color:#e6db74">&#34;sEnter name of zip file: &#34;</span>)
  <span style="color:#75715e">;; create the zip file</span>
  (let ((zip-file (if (<span style="color:#a6e22e">string-match</span> <span style="color:#e6db74">&#34;.zip$&#34;</span> zip-file) zip-file (<span style="color:#a6e22e">concat</span> zip-file <span style="color:#e6db74">&#34;.zip&#34;</span>))))
    (shell-command
     (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;zip &#34;</span>
             zip-file
             <span style="color:#e6db74">&#34; &#34;</span>
             (concat-string-list
              (<span style="color:#a6e22e">mapcar</span>
               <span style="color:#f92672">&#39;</span>(lambda (filename)
                  (<span style="color:#a6e22e">file-name-nondirectory</span> filename))
               (dired-get-marked-files))))))
  (revert-buffer))
(defun concat-string-list (<span style="color:#a6e22e">list</span>)
   <span style="color:#e6db74">&#34;Return a string which is a concatenation of all elements of the list separated by spaces&#34;</span>
   (<span style="color:#a6e22e">mapconcat</span> <span style="color:#f92672">&#39;</span>(lambda (obj) (<span style="color:#a6e22e">format</span> <span style="color:#e6db74">&#34;%s&#34;</span> obj)) <span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#34; &#34;</span>))


<span style="color:#75715e">;; hydra-dired</span>
(<span style="color:#a6e22e">define-key</span> dired-mode-map
  <span style="color:#e6db74">&#34;.&#34;</span>
  (defhydra hydra-dired (:hint <span style="color:#66d9ef">nil</span> :color pink)
    <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">_+_ mkdir   _v_iew         _m_ark         _z_ip     _w_ get filename    _r_oot-dir   _T_erminal
</span><span style="color:#e6db74">_C_opy      view _o_ther   _U_nmark all   un_Z_ip   _W_ get fullpath    _h_ome-dir   _F_inder
</span><span style="color:#e6db74">_D_elete    open _f_ile    _u_nmark       _s_ort    _g_ revert buffer   _b_ook-dir   counsel-_T_ramp
</span><span style="color:#e6db74">_R_ename    ch_M_od        _t_oggle       _e_dit    _[_ hide detail     _d_ropbox   _._togggle hydra
</span><span style="color:#e6db74">&#34;</span>
  (<span style="color:#e6db74">&#34;[&#34;</span> dired-hide-details-mode)
  (<span style="color:#e6db74">&#34;+&#34;</span> dired-create-directory)
  (<span style="color:#e6db74">&#34;RET&#34;</span> dired-open-in-accordance-with-situation :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;f&#34;</span> dired-open-in-accordance-with-situation :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;C&#34;</span> dired-do-copy)   <span style="color:#75715e">;; Copy all marked files</span>
  (<span style="color:#e6db74">&#34;D&#34;</span> dired-do-delete)
  (<span style="color:#e6db74">&#34;M&#34;</span> dired-do-chmod)
  (<span style="color:#e6db74">&#34;m&#34;</span> dired-mark)
  (<span style="color:#e6db74">&#34;o&#34;</span> dired-view-file-other-window :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;?&#34;</span> dired-summary :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;R&#34;</span> dired-do-rename)
  (<span style="color:#e6db74">&#34;a&#34;</span> dired-list-all-mode)
  (<span style="color:#e6db74">&#34;g&#34;</span> revert-buffe)
  (<span style="color:#e6db74">&#34;e&#34;</span> wdired-change-to-wdired-mode :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;s&#34;</span> dired-sort-toggle-or-edit)
  (<span style="color:#e6db74">&#34;T&#34;</span> counsel-tramp :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;t&#34;</span> dired-toggle-marks)
  (<span style="color:#e6db74">&#34;U&#34;</span> dired-unmark-all-marks)
  (<span style="color:#e6db74">&#34;u&#34;</span> dired-unmark)
  (<span style="color:#e6db74">&#34;v&#34;</span> dired-view-file :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;w&#34;</span> dired-copy-filename-as-kill)
  (<span style="color:#e6db74">&#34;W&#34;</span> dired-get-fullpath-filename)
  (<span style="color:#e6db74">&#34;z&#34;</span> dired-zip-files)
  (<span style="color:#e6db74">&#34;Z&#34;</span> dired-do-compress)
  (<span style="color:#e6db74">&#34;b&#34;</span> my:book-dir)
  (<span style="color:#e6db74">&#34;r&#34;</span> my:root-dir)
  (<span style="color:#e6db74">&#34;h&#34;</span> my:home-dir)
  (<span style="color:#e6db74">&#34;d&#34;</span> my:dropbox)
  (<span style="color:#e6db74">&#34;F&#34;</span> my:finder-app)
  (<span style="color:#e6db74">&#34;T&#34;</span> my:iterm-app)
  (<span style="color:#e6db74">&#34;q&#34;</span> <span style="color:#66d9ef">nil</span>)
  (<span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#66d9ef">nil</span> :color blue)))

(defun my:root-dir ()
  <span style="color:#e6db74">&#34;Open root dir.&#34;</span>
  (interactive)
  (find-file <span style="color:#e6db74">&#34;/&#34;</span>))
(defun my:home-dir ()
  <span style="color:#e6db74">&#34;Open home dir.&#34;</span>
  (interactive)
  (find-file <span style="color:#e6db74">&#34;~/&#34;</span>))
(defun my:dropbox ()
  <span style="color:#e6db74">&#34;Open home dir.&#34;</span>
  (interactive)
  (find-file <span style="color:#e6db74">&#34;~/Dropbox&#34;</span>))
(defun my:book-dir ()
  <span style="color:#e6db74">&#34;Open book dir.&#34;</span>
  (interactive)
  (find-file <span style="color:#e6db74">&#34;~/Dropbox/book/&#34;</span>))
(defun my:finder-app ()
  <span style="color:#e6db74">&#34;Launch for finder.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a finder.app&#34;</span>))
(defun my:iterm-app ()
  <span style="color:#e6db74">&#34;Launch for iterm.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a iterm.app&#34;</span>))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 30_dired.el ends here</span>
</code></pre></div><h2 id="hydra-markdowm">Hydra-markdowm</h2>
<p><img src="https://farm8.staticflickr.com/7908/40497282853_49d2f6da08_b.jpg" alt="Alt Text"></p>
<p>私の場合、ブログのDraftやIdeaメモ類は全てhowmで管理し、markdown記法で書いています。（詳細は後述）</p>
<p>emacsのmarkdown-modeはとても便利なのですがinsertコマンドの全てのキーバインドを覚えるのは至難です。yasunippetを使うという選択肢もあると思うのですが、せっかくのmarkdowm-modeなのでhydraで便利に使えるようにしてみました。</p>
<p>ついでに、md2html,md2pdf,md2docx,previewなども設定しています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 40_markdown.el --- 40_markdown.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

(defhydra hydra-markdown (:hint <span style="color:#66d9ef">nil</span> :exit <span style="color:#66d9ef">t</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">^Format^      ^Insert^        ^Head.Foot^     ^Code.Link^      ^Move^           ^Pndoc^       ^Draft
</span><span style="color:#e6db74">^^^^^^--------------------------------------------------------------------------------------------
</span><span style="color:#e6db74">_s_torong     _b_lockquote    H1~H6:_a_uto    _c_ode block     _p_romote        _H_tml        h_@_w_m_
</span><span style="color:#e6db74">italic:_/_    pre:_:_         _f_ootnote      code i_n_line    _d_emote         _P_DF         _e_asy-hugo
</span><span style="color:#e6db74">リスト:_._    _t_able         _r_eference     _l_ink           _j_:move-up      _D_ocx        _h_atenablog
</span><span style="color:#e6db74">取消線:_x_    hr:_-_          _i_mage         _u_ri            _k_:move-down    Pre_v_iew     _q_iita&#34;</span>
   (<span style="color:#e6db74">&#34;s&#34;</span> markdown-insert-bold)
   (<span style="color:#e6db74">&#34;/&#34;</span> markdown-insert-italic)
   (<span style="color:#e6db74">&#34;-&#34;</span> markdown-insert-hr)
   (<span style="color:#e6db74">&#34;x&#34;</span> markdown-insert-strike-through)
   (<span style="color:#e6db74">&#34;b&#34;</span> markdown-insert-blockquote)
   (<span style="color:#e6db74">&#34;:&#34;</span> markdown-insert-pre)
   (<span style="color:#e6db74">&#34;t&#34;</span> markdown-insert-table)
   (<span style="color:#e6db74">&#34;c&#34;</span> markdown-insert-gfm-code-block)
   (<span style="color:#e6db74">&#34;n&#34;</span> markdown-insert-code)
   (<span style="color:#e6db74">&#34;K&#34;</span> markdown-insert-kbd)
   (<span style="color:#e6db74">&#34;a&#34;</span> markdown-insert-header-dwim)
   (<span style="color:#e6db74">&#34;e&#34;</span> easy-hugo)
   (<span style="color:#e6db74">&#34;q&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://qiita.com/minoruGH&#34;</span>))
   (<span style="color:#e6db74">&#34;@&#34;</span> my:howm-list-all)
   (<span style="color:#e6db74">&#34;m&#34;</span> hydra-memo/body)
   (<span style="color:#e6db74">&#34;h&#34;</span> hydra-hatena/body)
   (<span style="color:#e6db74">&#34;1&#34;</span> markdown-insert-header-atx-1)
   (<span style="color:#e6db74">&#34;2&#34;</span> markdown-insert-header-atx-2)
   (<span style="color:#e6db74">&#34;3&#34;</span> markdown-insert-header-atx-3)
   (<span style="color:#e6db74">&#34;4&#34;</span> markdown-insert-header-atx-4)
   (<span style="color:#e6db74">&#34;5&#34;</span> markdown-insert-header-atx-5)
   (<span style="color:#e6db74">&#34;6&#34;</span> markdown-insert-header-atx-6)
   (<span style="color:#e6db74">&#34;.&#34;</span> markdown-insert-list-item)
   (<span style="color:#e6db74">&#34;i&#34;</span> markdown-insert-imaget)
   (<span style="color:#e6db74">&#34;l&#34;</span> markdown-insert-link)
   (<span style="color:#e6db74">&#34;u&#34;</span> markdown-insert-uri)
   (<span style="color:#e6db74">&#34;f&#34;</span> markdown-insert-footnote)
   (<span style="color:#e6db74">&#34;r&#34;</span> markdown-insert-reference-link-dwim)
   (<span style="color:#e6db74">&#34;p&#34;</span> markdown-promote)
   (<span style="color:#e6db74">&#34;d&#34;</span> markdown-demote)
   (<span style="color:#e6db74">&#34;j&#34;</span> markdown-move-down)
   (<span style="color:#e6db74">&#34;k&#34;</span> markdown-move-up)
   <span style="color:#75715e">;; Pndoc</span>
   (<span style="color:#e6db74">&#34;H&#34;</span> md2html :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;P&#34;</span> md2pdf :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;D&#34;</span> md2docx :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;v&#34;</span> markdown-preview :exit <span style="color:#66d9ef">t</span>))


<span style="color:#75715e">;; Syntax higlight code blocks</span>
(setq markdown-fontify-code-blocks-natively <span style="color:#66d9ef">t</span>)

(add-hook <span style="color:#e6db74">&#39;markdown-mode-hook</span>
          <span style="color:#f92672">&#39;</span>(lambda () (outline-minor-mode <span style="color:#66d9ef">t</span>)))

(defun md2html ()
  <span style="color:#e6db74">&#34;Generate pdf from currently open markdown.&#34;</span>
  (interactive)
  (let ((filename (<span style="color:#a6e22e">buffer-file-name</span> (<span style="color:#a6e22e">current-buffer</span>))))
    (shell-command-to-string
     <span style="color:#75715e">;; Place of templatete : ~/.pandoc/template/md2html.html</span>
     (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pandoc -f markdown -t html --template=md2html &#34;</span>
	     filename
	     <span style="color:#e6db74">&#34; &gt; &#34;</span>
	     (file-name-sans-extension filename)
             <span style="color:#e6db74">&#34;.html&#34;</span>))))

<span style="color:#75715e">;; Use wkhtmltopdf without latex</span>
(defun md2pdf ()
  <span style="color:#e6db74">&#34;Generate pdf from currently open markdown.&#34;</span>
  (interactive)
  (let ((filename (<span style="color:#a6e22e">buffer-file-name</span> (<span style="color:#a6e22e">current-buffer</span>))))
    (shell-command-to-string
     (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pandoc &#34;</span>
	     filename
	     <span style="color:#e6db74">&#34; -f markdown -t html5 -o &#34;</span>
	     (file-name-sans-extension filename)
             <span style="color:#e6db74">&#34;.pdf&#34;</span>))
    (when (<span style="color:#a6e22e">eq</span> system-type <span style="color:#e6db74">&#39;gnu/linux</span>)   <span style="color:#75715e">;; for Debian</span>
      (shell-command-to-string
       (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;evince &#34;</span>
               (file-name-sans-extension filename)
               <span style="color:#e6db74">&#34;.pdf&#34;</span>)))
    (when (<span style="color:#a6e22e">eq</span> system-type <span style="color:#e6db74">&#39;darwin</span>)      <span style="color:#75715e">;; for macOS</span>
      (shell-command-to-string
       (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;open -a preview.app &#34;</span>
               (file-name-sans-extension filename)
	       <span style="color:#e6db74">&#34;.pdf&#34;</span>)))))

(defun md2docx ()
  <span style="color:#e6db74">&#34;Generate docx from currently open markdown.&#34;</span>
  (interactive)
  (let ((filename (<span style="color:#a6e22e">buffer-file-name</span> (<span style="color:#a6e22e">current-buffer</span>))))
    (shell-command-to-string
     (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;pandoc &#34;</span>
	     filename
	     <span style="color:#e6db74">&#34; -t docx -o &#34;</span>
	     (file-name-sans-extension filename)
	     <span style="color:#75715e">;; &#34;.docx -V mainfont=IPAPGothic -V fontsize=16pt --toc --highlight-style=zenburn&#34;))</span>
	     <span style="color:#e6db74">&#34;.docx -V mainfont=IPAPGothic -V fontsize=16pt --highlight-style=zenburn&#34;</span>))
    (when (<span style="color:#a6e22e">eq</span> system-type <span style="color:#e6db74">&#39;gnu/linux</span>)
      (shell-command-to-string
       (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;xdg-open &#34;</span>
               (file-name-sans-extension filename)
               <span style="color:#e6db74">&#34;.docx&#34;</span>)))
    (when (<span style="color:#a6e22e">eq</span> system-type <span style="color:#e6db74">&#39;darwin</span>)
      (shell-command-to-string
       (<span style="color:#a6e22e">concat</span> <span style="color:#e6db74">&#34;open -a pages.app &#34;</span>
               (file-name-sans-extension filename)
               <span style="color:#e6db74">&#34;.docx&#34;</span>)))))

<span style="color:#75715e">;; markdown-preview like github ...C-c C-c p</span>
(setq markdown-command <span style="color:#e6db74">&#34;pandoc&#34;</span>
      markdown-command-needs-filename <span style="color:#66d9ef">t</span>
      markdown-content-type <span style="color:#e6db74">&#34;application/xhtml+xml&#34;</span>
      markdown-css-paths <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/github-markdown-css/github-markdown.min.css&#34;</span>
			   <span style="color:#e6db74">&#34;http://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/github.min.css&#34;</span>)
      markdown-xhtml-header-content <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">&lt;meta name=&#39;viewport&#39; content=&#39;width=device-width, initial-scale=1, shrink-to-fit=no&#39;&gt;
</span><span style="color:#e6db74">&lt;style&gt;
</span><span style="color:#e6db74">body {
</span><span style="color:#e6db74">  box-sizing: border-box;
</span><span style="color:#e6db74">  max-width: 740px;
</span><span style="color:#e6db74">  width: 100%;
</span><span style="color:#e6db74">  margin: 40px auto;
</span><span style="color:#e6db74">  padding: 0 10px;
</span><span style="color:#e6db74">}
</span><span style="color:#e6db74">&lt;/style&gt;
</span><span style="color:#e6db74">&lt;script src=&#39;http://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js&#39;&gt;&lt;/script&gt;
</span><span style="color:#e6db74">&lt;script&gt;
</span><span style="color:#e6db74">document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
</span><span style="color:#e6db74">  document.body.classList.add(&#39;markdown-body&#39;);
</span><span style="color:#e6db74">  document.querySelectorAll(&#39;pre[lang] &gt; code&#39;).forEach((code) =&gt; {
</span><span style="color:#e6db74">    code.classList.add(code.parentElement.lang);
</span><span style="color:#e6db74">    hljs.highlightBlock(code);
</span><span style="color:#e6db74">  });
</span><span style="color:#e6db74">});
</span><span style="color:#e6db74">&lt;/script&gt;
</span><span style="color:#e6db74">&#34;</span>)

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 40_markdown-mode.el ends here</span>
</code></pre></div><h2 id="hydra-view-mode">Hydra-view-mode</h2>
<p><img src="https://farm8.staticflickr.com/7898/46548095055_c9935358c6_b.jpg" alt="Alt Text"></p>
<p>長いコードなどを閲覧する時に便利なようにview-modeを設定しています。</p>
<p>一文字削除、一行削除、undoなどvim風な簡単な機能もつけました。magitやgit-gutterも使えます。大げさな割にはそれほど使わないのですが、まあ自己満足の世界です(^o^)。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 40_view-mode.el --- 40_view-mode.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

<span style="color:#75715e">;; Change modeline color in view-mode</span>
(use-package viewer)
(setq viewer-modeline-color-view <span style="color:#e6db74">&#34;#852941&#34;</span>)
(viewer-change-modeline-color-setup)


<span style="color:#75715e">;; Setting to utilize view-mode</span>
(key-chord-define-global <span style="color:#e6db74">&#34;::&#34;</span> <span style="color:#e6db74">&#39;view-mode</span>)
(add-hook <span style="color:#e6db74">&#39;view-mode-hook</span>
	  (lambda ()
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;i&#34;</span> <span style="color:#e6db74">&#39;View-exit</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#e6db74">&#39;View-exit</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;g&#34;</span> <span style="color:#e6db74">&#39;beginning-of-buffer</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;G&#34;</span> <span style="color:#e6db74">&#39;end-of-buffer</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;e&#34;</span> <span style="color:#e6db74">&#39;end-of-line</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#e6db74">&#39;beginning-of-line</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#e6db74">&#39;scroll-down-command</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;D&#34;</span> <span style="color:#e6db74">&#39;my/view-kill-whole-line</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;u&#34;</span> <span style="color:#e6db74">&#39;my/view-undo</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;X&#34;</span> <span style="color:#e6db74">&#39;my/view-del-char</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;w&#34;</span> <span style="color:#e6db74">&#39;my/view-forward-word+1</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;W&#34;</span> <span style="color:#e6db74">&#39;backward-word</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;s&#34;</span> <span style="color:#e6db74">&#39;swiper-for-region-or-swiper</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;t&#34;</span> <span style="color:#e6db74">&#39;git-timemachine</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;v&#34;</span> <span style="color:#e6db74">&#39;vc-diff</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;[&#34;</span> <span style="color:#e6db74">&#39;forward-list</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;]&#34;</span> <span style="color:#e6db74">&#39;backward-list</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;l&#34;</span> <span style="color:#e6db74">&#39;goto-line</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;;&#34;</span> <span style="color:#e6db74">&#39;recenter-top-bottom</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;m&#34;</span> <span style="color:#e6db74">&#39;magit-status</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;B&#34;</span> <span style="color:#e6db74">&#39;magit-blame</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;j&#34;</span> <span style="color:#e6db74">&#39;git-gutter:next-hunk</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;k&#34;</span> <span style="color:#e6db74">&#39;git-gutter:previous-hunk</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;r&#34;</span> <span style="color:#e6db74">&#39;git-gutter:revert-hunk</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;S&#34;</span> <span style="color:#e6db74">&#39;git-gutter:stage-hunk</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;p&#34;</span> <span style="color:#e6db74">&#39;git-gutter:popup-hunk</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#e6db74">&#39;hydra-window/body</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;_&#34;</span> <span style="color:#e6db74">&#39;delete-other-windows</span>)
	    (<span style="color:#a6e22e">define-key</span> view-mode-map <span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#e6db74">&#39;hydra-view-mode/body</span>)))


<span style="color:#75715e">;; Function to edit in view-mode</span>
(defun my/view-forward-word+1 ()
  <span style="color:#e6db74">&#34;Forward word+1 in view mode.&#34;</span>
  (interactive)
  (<span style="color:#a6e22e">forward-word</span>)
  (<span style="color:#a6e22e">forward-char</span>))
(defun my/view-kill-whole-line ()
  <span style="color:#e6db74">&#34;Kill whole line in view mode.&#34;</span>
  (interactive)
  (view-mode <span style="color:#ae81ff">0</span>)
  (kill-whole-line)
  (save-buffer)
  (view-mode <span style="color:#ae81ff">1</span>)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;kill-whole-line and save!&#34;</span>))
(defun my/view-del-char ()
  <span style="color:#e6db74">&#34;Delete character in view mode.&#34;</span>
  (interactive)
  (view-mode <span style="color:#ae81ff">0</span>)
  (<span style="color:#a6e22e">delete-char</span> <span style="color:#ae81ff">1</span>)
  (save-buffer)
  (view-mode <span style="color:#ae81ff">1</span>)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;delete-char&#34;</span>))
(defun my/view-undo ()
  <span style="color:#e6db74">&#34;Undo in view mode.&#34;</span>
  (interactive)
  (view-mode <span style="color:#ae81ff">0</span>)
  (undo)
  (save-buffer)
  (view-mode <span style="color:#ae81ff">1</span>)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;undo and save!&#34;</span>))


<span style="color:#75715e">;; hydra-view-mode</span>
(defhydra hydra-view-mode (:hint <span style="color:#66d9ef">nil</span> :color pink)
  <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">_SPC_: next page   _a_: top of line  _u_: view undo      _m_: magit-status  _j_: gg:next-hunk   _s_: swiper
</span><span style="color:#e6db74">  _b_: prev page   _e_: end of line  _w_: forward word   _B_: magit-blame   _k_: gg:prev-hunk   _d_: dired-jump
</span><span style="color:#e6db74">  _g_: page top    _l_: goto line    _W_: backward word  _t_: timemachine   _p_: gg:popup-hunk  _i_: view exit
</span><span style="color:#e6db74">  _G_: page end    _D_: delete line  _[_: forward pair   _v_: vc-diff       _S_: gg:stage-hunk  _q_: view quit
</span><span style="color:#e6db74">  _;_: top-bottom  _X_: delete char  _]_: backward pair  _h_: github        _r_: gg:revert-hun  _._: close
</span><span style="color:#e6db74">&#34;</span>
  <span style="color:#75715e">;; Move page</span>
  (<span style="color:#e6db74">&#34;SPC&#34;</span> scroll-up-command)
  (<span style="color:#e6db74">&#34;b&#34;</span> scroll-down-command)
  (<span style="color:#e6db74">&#34;g&#34;</span> beginning-of-buffer)
  (<span style="color:#e6db74">&#34;G&#34;</span> end-of-buffer)
  <span style="color:#75715e">;; Move line</span>
  (<span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#a6e22e">beginning-of-line</span>)
  (<span style="color:#e6db74">&#34;e&#34;</span> <span style="color:#a6e22e">end-of-line</span>)
  (<span style="color:#e6db74">&#34;w&#34;</span> my/view-forward-word+1)
  (<span style="color:#e6db74">&#34;W&#34;</span> backward-word)
  (<span style="color:#e6db74">&#34;D&#34;</span> my/view-kill-whole-line)
  (<span style="color:#e6db74">&#34;X&#34;</span> my/view-del-char)
  (<span style="color:#e6db74">&#34;u&#34;</span> my/view-undo)
  <span style="color:#75715e">;; Misc</span>
  (<span style="color:#e6db74">&#34;i&#34;</span> View-exit :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;q&#34;</span> View-quit :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;:&#34;</span> View-exit :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;[&#34;</span> forward-list)
  (<span style="color:#e6db74">&#34;]&#34;</span> backward-lis)
  (<span style="color:#e6db74">&#34;l&#34;</span> goto-line)
  <span style="color:#75715e">;; git</span>
  (<span style="color:#e6db74">&#34;v&#34;</span> vc-diff)
  (<span style="color:#e6db74">&#34;m&#34;</span> magit-status :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;B&#34;</span> magit-blame :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;t&#34;</span> git-timemachine :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;h&#34;</span> my/github)
  <span style="color:#75715e">;; gitgutter</span>
  (<span style="color:#e6db74">&#34;j&#34;</span> git-gutter:next-hunk)
  (<span style="color:#e6db74">&#34;k&#34;</span> git-gutter:previous-hunk)
  (<span style="color:#e6db74">&#34;p&#34;</span> git-gutter:popup-hunk)
  (<span style="color:#e6db74">&#34;S&#34;</span> git-gutter:stage-hunk)
  (<span style="color:#e6db74">&#34;r&#34;</span> git-gutter:revert-hunk)
  (<span style="color:#e6db74">&#34;;&#34;</span> recenter-top-bottom)
  <span style="color:#75715e">;; Others</span>
  (<span style="color:#e6db74">&#34;d&#34;</span> dired-jump :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;_&#34;</span> delete-other-windows :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;s&#34;</span> swiper-for-region-or-swiper)
  (<span style="color:#e6db74">&#34;,&#34;</span> hydra-window/body :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#66d9ef">nil</span> :color blue))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 40_view-mode.el ends here</span>
</code></pre></div><h2 id="hydra-browse">Hydra-browse</h2>
<p><img src="https://farm8.staticflickr.com/7924/46548095355_6be31c004f_b.jpg" alt="Alt Text"></p>
<p>何でもかんでもemacsを作業デスクとしてして生活しているので、色んな場所へジプシーするためのお気に入りランチャーです。macアプリもいれました。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 50_hydra-browse.el --- 50_hydra-browse.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

(bind-key
 [f10]
 (defhydra hydra-browse (:hint <span style="color:#66d9ef">nil</span> :exit <span style="color:#66d9ef">t</span>)
  <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74"> ^Shop^           ^SNS^           ^Repos^          ^GH^           ^Favorite^      ^Others^       ^Applications
</span><span style="color:#e6db74"> ^^^^^^---------------------------------------------------------------------------------------------------
</span><span style="color:#e6db74"> _a_: Amazon      _t_: Twitter    _g_: github      _h_: HOME      _j_: Jorudan    _D_: Dropbox   _c_: Browse-url
</span><span style="color:#e6db74"> _r_: Rakuten     _u_: Youtube    _0_: gist        _d_: d.kukai   _n_: News       _x_: Xserver   _l_: ForkLift
</span><span style="color:#e6db74"> _y_: Yodobashi   _f_: Flickr     _1_: masasam     _m_: m.kukai   _w_: Weather    _q_: Qiita     _@_: Airmail
</span><span style="color:#e6db74"> _k_: Kakaku      _e_: Evernote   _2_: hydraWiki   _b_: BBS       _B_: SanyoBas   _p_: Photo(G)  _i_: iTerm
</span><span style="color:#e6db74">&#34;</span>
   (<span style="color:#e6db74">&#34;a&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.amazon.co.jp/&#34;</span>))
   (<span style="color:#e6db74">&#34;r&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.rakuten.co.jp/&#34;</span>))
   (<span style="color:#e6db74">&#34;y&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.yodobashi.com/&#34;</span>))
   (<span style="color:#e6db74">&#34;k&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://kakaku.com/&#34;</span>))
   (<span style="color:#e6db74">&#34;t&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://twitter.com&#34;</span>))
   (<span style="color:#e6db74">&#34;u&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.youtube.com/channel/UCnwoipb9aTyORVKHeTw159A/videos&#34;</span>))
   (<span style="color:#e6db74">&#34;f&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.flickr.com/photos/minorugh/&#34;</span>))
   (<span style="color:#e6db74">&#34;e&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.evernote.com/client/web#?an=true&amp;n=02ab918a-18a7-472b-a166-835a922d3fad&amp;s=s278&amp;&#34;</span>))
   (<span style="color:#e6db74">&#34;g&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://github.com/minorugh/emacs.d&#34;</span>))
   (<span style="color:#e6db74">&#34;0&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://gist.github.com/minorugh&#34;</span>))
   (<span style="color:#e6db74">&#34;_&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://github.com/minorugh/emacs.d/&#34;</span>))
   (<span style="color:#e6db74">&#34;1&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://github.com/masasam/dotfiles/tree/master/.emacs.d&#34;</span>))
   (<span style="color:#e6db74">&#34;2&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://github.com/abo-abo/hydra/wiki&#34;</span>))
   (<span style="color:#e6db74">&#34;h&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://gospel-haiku.com/&#34;</span>))
   (<span style="color:#e6db74">&#34;d&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://gospel-haiku.com/d_kukai/&#34;</span>))
   (<span style="color:#e6db74">&#34;m&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://gospel-haiku.com/m_kukai/&#34;</span>))
   (<span style="color:#e6db74">&#34;b&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://gospel-haiku.com/danwa/&#34;</span>))
   (<span style="color:#e6db74">&#34;j&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.jorudan.co.jp/&#34;</span>))
   (<span style="color:#e6db74">&#34;n&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://news.yahoo.co.jp/&#34;</span>))
   (<span style="color:#e6db74">&#34;w&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://tenki.jp/week/6/31/&#34;</span>))
   (<span style="color:#e6db74">&#34;B&#34;</span> (browse-url <span style="color:#e6db74">&#34;http://www.sanyo-bus.co.jp/pdf/180913.pdf&#34;</span>))
   (<span style="color:#e6db74">&#34;x&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.xserver.ne.jp/login_server.php&#34;</span>))
   (<span style="color:#e6db74">&#34;D&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://www.dropbox.com/home/documents&#34;</span>))
   (<span style="color:#e6db74">&#34;q&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://qiita.com/minoruGH&#34;</span>))
   (<span style="color:#e6db74">&#34;v&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://drive.google.com/drive/u/0/my-drive&#34;</span>))
   (<span style="color:#e6db74">&#34;p&#34;</span> (browse-url <span style="color:#e6db74">&#34;https://photos.google.com/?pageId=none&#34;</span>))
   (<span style="color:#e6db74">&#34;/&#34;</span> kill-other-buffers)
   (<span style="color:#e6db74">&#34;,&#34;</span> hydra-window/body)
   (<span style="color:#e6db74">&#34;.&#34;</span> hydra-work1/body)
   (<span style="color:#e6db74">&#34;c&#34;</span> browse-url-at-point)
   (<span style="color:#e6db74">&#34;s&#34;</span> my:skitch-app)
   (<span style="color:#e6db74">&#34;l&#34;</span> my:forklift-app)
   (<span style="color:#e6db74">&#34;@&#34;</span> my:amail-app)
   (<span style="color:#e6db74">&#34;i&#34;</span> my:iterm-app)
   (<span style="color:#e6db74">&#34;&lt;f10&gt;&#34;</span> <span style="color:#66d9ef">nil</span>)))

<span style="color:#75715e">;; Launch for Mac applications</span>
(defun my:calendar-app ()
  <span style="color:#e6db74">&#34;Launch for calendar.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a calendar.app&#34;</span>))
(defun my:forklift-app ()
  <span style="color:#e6db74">&#34;Launch for forklift.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a forklift.app&#34;</span>))
(defun my:amail-app ()
  <span style="color:#e6db74">&#34;Launch for airmail3.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a &#39;airmail 3.app&#39;&#34;</span>))
(defun my:iterm-app ()
  <span style="color:#e6db74">&#34;Launch for iterm.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a iterm.app&#34;</span>))
(defun my:skitch-app ()
  <span style="color:#e6db74">&#34;Launch for skitch.app.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;open -a skitch.app&#34;</span>))


<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 50_hydra-browse.el ends here</span>
</code></pre></div><h2 id="hydra-compile">Hydra-compile</h2>
<p><img src="https://farm8.staticflickr.com/7869/46740221534_ba6d113363_b.jpg" alt="Alt Text"></p>
<blockquote>
<p>同じことは２度しない。必ずしなければ習い作業 → 自動化できないか考える。</p>
</blockquote>
<p>これは私が原点としている心がけですが、尊敬する故・石井 勝氏による下記記事の受け売りです。</p>
<ul>
<li><a href="bjectclub.jp/community/memorial/homepage3.nifty.com/masarl/article/gnu-make.html">自動化のためのGNU Make入門講座</a></li>
</ul>
<p>emacsには、<code>compile</code> というコマンドがあり、デフォルトで <code>make -k</code> を実行してくれます。</p>
<p>それ以外のmakeコマンドを実行させたいときは、deleteで &ldquo;-k&rdquo; の部分を消して書き換えるのですが、そうすると次回 <code>compile</code> コマンドを実行したときに <code>make -k</code> にならないで書き換えたものに置き換えられてしまいますう。それらを解決するためにhydraで工夫してみました。</p>
<p><code>make -k</code> 以外のときは、<code>shell-command</code> を使います。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 50_hydra-compile.el --- 50_hydra-compile.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

(bind-key
 [f2]
 (defhydra hydra-make (:color red :hint <span style="color:#66d9ef">nil</span>)
  <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Command: _RET_:compile  _u_pftp  _m_ove  _b_klog  _g_it  _c_lean  _r_estore:compile-command&#34;</span>
   (<span style="color:#e6db74">&#34;RET&#34;</span> compile)
   (<span style="color:#e6db74">&#34;u&#34;</span> my:make-upftp :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;m&#34;</span> my:make-move :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;g&#34;</span> my:make-git :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;b&#34;</span> my:make-bklog :exit <span style="color:#66d9ef">t</span>)
   (<span style="color:#e6db74">&#34;c&#34;</span> my:make-clean)
   (<span style="color:#e6db74">&#34;r&#34;</span> my:restore-command)))

(defun my:make-upftp ()
  <span style="color:#e6db74">&#34;Make command for upftp.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;make up&#34;</span>))

(defun my:make-move ()
  <span style="color:#e6db74">&#34;Make command for move.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;make mv&#34;</span>))

(defun my:make-bklog ()
  <span style="color:#e6db74">&#34;Make command for bklog.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;make bk&#34;</span>))

(defun my:make-git ()
  <span style="color:#e6db74">&#34;Make command for git.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;make git&#34;</span>))

(defun my:make-clean ()
  <span style="color:#e6db74">&#34;Make command for clean.&#34;</span>
  (interactive)
  (shell-command <span style="color:#e6db74">&#34;make clean&#34;</span>))

(defun my:restore-command ()
  <span style="color:#e6db74">&#34;Restore for compile command.&#34;</span>
  (interactive)
  (setq compile-command <span style="color:#e6db74">&#34;make -k&#34;</span>)
  (<span style="color:#a6e22e">message</span> <span style="color:#e6db74">&#34;Restored!&#34;</span>))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 50_hydra-compile ends here</span>
</code></pre></div><h2 id="hydra-window">Hydra-window</h2>
<p><img src="https://farm8.staticflickr.com/7839/46740221244_142d9b2292_b.jpg" alt="Alt Text"></p>
<p>ネット上でも最近良く見かけるemacsのwindow制御です。</p>
<p>正直、&ldquo;C-x ..&rdquo; を叩く癖が身についているのでそれほど便利な気はしませんが、swap,toggle-divosionのほか、frameにも対応させています。</p>
<p>hydraとは別に <code>window移動：other-window-or-split</code> を &ldquo;C-q&rdquo; にも割り当てています。私の場合、二分割を超えて使うことは先ずないので、
慣れ親しんだこちらのほうが使いやすいです。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 50_hydra-window.el --- 50_hydra-window.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

(bind-key
 [f7]
 (defhydra hydra-window (:color red :hint <span style="color:#66d9ef">nil</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Window: _v_sprit  _h_sprit  _o_ther  _s_wap  e_x_change  del_0_:_1_  |  Frame: _n_ew  _m_ove  _d_el&#34;</span>
  (<span style="color:#e6db74">&#34;v&#34;</span> split-window-right)
  (<span style="color:#e6db74">&#34;h&#34;</span> split-window-below)
  (<span style="color:#e6db74">&#34;o&#34;</span> other-window-or-split)
  (<span style="color:#e6db74">&#34;s&#34;</span> window-swap-states)
  (<span style="color:#e6db74">&#34;x&#34;</span> window-toggle-division)
  (<span style="color:#e6db74">&#34;0&#34;</span> delete-window :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;1&#34;</span> delete-other-windows :exit <span style="color:#66d9ef">t</span>)
  <span style="color:#75715e">;; Common setting with hydra-work</span>
  (<span style="color:#e6db74">&#34;_&#34;</span> delete-other-windows :exit <span style="color:#66d9ef">t</span>)
  (<span style="color:#e6db74">&#34;n&#34;</span> new-frame)
  (<span style="color:#e6db74">&#34;m&#34;</span> other-frame)
  (<span style="color:#e6db74">&#34;d&#34;</span> <span style="color:#a6e22e">delete-frame</span> :exit <span style="color:#66d9ef">t</span>)))


(defun other-window-or-split ()
  <span style="color:#e6db74">&#34;If there is one window, open split window.
</span><span style="color:#e6db74">If there are two or more windows, it will go to another window.&#34;</span>
  (interactive)
  (when (one-window-p)
    (split-window-horizontally))
  (other-window <span style="color:#ae81ff">1</span>))
(bind-key <span style="color:#e6db74">&#34;C-q&#34;</span> <span style="color:#e6db74">&#39;other-window-or-split</span>)


(defun window-toggle-division ()
  <span style="color:#e6db74">&#34;Replace vertical &lt;-&gt; horizontal when divided into two.&#34;</span>
  (interactive)
  (unless (<span style="color:#a6e22e">=</span> (count-windows <span style="color:#ae81ff">1</span>) <span style="color:#ae81ff">2</span>)
    (<span style="color:#a6e22e">error</span> <span style="color:#e6db74">&#34;Not divided into two!&#34;</span>))
  (let ((before-height)
        (other-buf (<span style="color:#a6e22e">window-buffer</span> (<span style="color:#a6e22e">next-window</span>))))
    (setq before-height (window-height))
    (delete-other-windows)
    (if (<span style="color:#a6e22e">=</span> (window-height) before-height)
        (split-window-vertically)
      (split-window-horizontally))
    (other-window <span style="color:#ae81ff">1</span>)
    (switch-to-buffer other-buf)
    (other-window <span style="color:#ae81ff">-1</span>)))



<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 50_hydra-window.el ends here</span>
</code></pre></div><h2 id="hydra-howm">Hydra-howm</h2>
<p><img src="https://farm8.staticflickr.com/7917/46548095175_ccce1b85d3_b.jpg" alt="Alt Text"></p>
<p>私はemacsでタスク管理はしないのでorg-modeには余り興味がなくシンプルなhowmを愛用しています。</p>
<p>そのhowmも本来の使い方ではなく &ldquo;メモデーターの保存と管理&rdquo; 目的で使っています。メモの種類は以下のとおりです。</p>
<ul>
<li>ブログ記事などの下書き: howm-create で書く</li>
<li>ちょこっとしたアイデアメモ: howm-remember で書く</li>
<li>俳句創作手帳: elispコマンドでtemplateを挿入</li>
<li>open-junk-file: いわゆる自作のちょこっとしたジュンクコード</li>
</ul>
<p>上記それぞれ保存するデレクトリは分けて別々に一覧表示させるのですが、全てをhowmディレクトリ下に配置することで全ファイルを串刺し検索できるようにもしています。長くなるので詳細は別記事にしたいと思います。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 60_howm.el --- 60_howm.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

<span style="color:#75715e">;; Set the title-hearder chara first and then reqire howm.</span>
(setq howm-view-title-header <span style="color:#e6db74">&#34;#&#34;</span>)
(use-package howm)

<span style="color:#75715e">;; List buffer and content buffer side by side</span>
(setq howm-view-split-horizontally <span style="color:#66d9ef">t</span>)
<span style="color:#75715e">;; Clear list buffer when opening file with RET</span>
(setq howm-view-summary-persistent <span style="color:#66d9ef">nil</span>)
<span style="color:#75715e">;; List in descending order</span>
(setq howm-list-normalizer <span style="color:#e6db74">&#39;howm-view-sort-by-reverse-date</span>)

<span style="color:#75715e">;; hydra</span>
(defhydra hydra-howm (:hint <span style="color:#66d9ef">nil</span> :exit <span style="color:#66d9ef">t</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">HOWM: _c_reate  _m_emo  _f_ile  //  LIST: mem_o_  _h_aiku  _j_unk  all_@_&#34;</span>
   (<span style="color:#e6db74">&#34;c&#34;</span> my:howm-create)
   (<span style="color:#e6db74">&#34;m&#34;</span> my:howm-memo-create)
   (<span style="color:#e6db74">&#34;f&#34;</span> open-junk-file)
   (<span style="color:#e6db74">&#34;o&#34;</span> my:howm-memo-list-all)
   (<span style="color:#e6db74">&#34;h&#34;</span> my:howm-haiku-list-all)
   (<span style="color:#e6db74">&#34;j&#34;</span> my:howm-junk-list-all)
   (<span style="color:#e6db74">&#34;@&#34;</span> my:howm-list-all))

<span style="color:#75715e">;; open-junk-file</span>
(setq open-junk-file-format <span style="color:#e6db74">&#34;~/Dropbox/howm/junk/%Y/junk.%Y%m%d.&#34;</span>)

<span style="color:#75715e">;; Set howm directory and file name format</span>
(defun my:howm-create ()
  <span style="color:#e6db74">&#34;My howm memo create.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm&#34;</span>)
  (setq howm-file-name-format <span style="color:#e6db74">&#34;%Y/%m/%Y%m%d%H%M.md&#34;</span>)
  (howm-create))
(defun my:howm-memo-create ()
  <span style="color:#e6db74">&#34;My howm memo create.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm/memo&#34;</span>)
  (setq howm-file-name-format <span style="color:#e6db74">&#34;%Y/%m/memo-%Y%m%d.md&#34;</span>)
  (howm-remember))

<span style="color:#75715e">;; Set howm directory for list display</span>
(defun my:howm-memo-list-all ()
  <span style="color:#e6db74">&#34;My howm memo list all.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm/memo&#34;</span>)
  (howm-list-all))
(defun my:howm-list-all ()
  <span style="color:#e6db74">&#34;My howm list all.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm&#34;</span>)
  (howm-list-all))
(defun my:howm-haiku-list-all ()
  <span style="color:#e6db74">&#34;My howm list all.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm/haiku&#34;</span>)
  (howm-list-all))
(defun my:howm-junk-list-all ()
  <span style="color:#e6db74">&#34;My howm list all.&#34;</span>
  (interactive)
  (setq howm-directory <span style="color:#e6db74">&#34;~/Dropbox/howm/junk&#34;</span>)
  (howm-list-all))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 60_howm.el ends here</span>
</code></pre></div><h2 id="hydra-search-web">Hydra-search-web</h2>
<p><img src="https://farm8.staticflickr.com/7825/40497399043_4d85414338_b.jpg" alt="Alt Text"></p>
<p>必須のgoogle-translateは別設定です。</p>
<p>googole-this とかを使うTipsも多いですが、私は昔から、<a href="https://github.com/nomaddo/search-web.el">search-web</a> というパッケージを愛用しています。簡単な設定で自由にカスタマイズすることができて様々な検索サイトを利用することが出来るからです。</p>
<p>郵便番号から住所を検索したりgoogle−mapやgoogle-earthを検索すると圧巻です。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="color:#75715e">;;; 50_hydra-search-web.el --- 50_hydra-search-web.el</span>
<span style="color:#75715e">;;; Commentary:</span>
<span style="color:#75715e">;;; Code:</span>
<span style="color:#75715e">;;(setq debug-on-error t)</span>

(use-package search-web)
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;weblio&#34;</span> <span style="color:#e6db74">&#34;http://weblio.jp/content/%s&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;kobun&#34;</span> <span style="color:#e6db74">&#34;http://kobun.weblio.jp/content/%s&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;ruigo&#34;</span> <span style="color:#e6db74">&#34;http://thesaurus.weblio.jp/content/%s&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;github&#34;</span> <span style="color:#e6db74">&#34;https://github.com/search?utf8=✓&amp;q=%s&amp;ref=simplesearch&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;qitta&#34;</span> <span style="color:#e6db74">&#34;https://qiita.com/search?q=%s&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;post&#34;</span> <span style="color:#e6db74">&#34;https://postcode.goo.ne.jp/search/q/%s/&#34;</span> <span style="color:#66d9ef">nil</span>))
(add-to-list <span style="color:#e6db74">&#39;search-web-engines</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;earth&#34;</span> <span style="color:#e6db74">&#34;https://earth.google.com/web/search/%s/&#34;</span> <span style="color:#66d9ef">nil</span>))


(bind-key
 <span style="color:#e6db74">&#34;s-s&#34;</span>
 (defhydra hydra-search-web (:color red :hint <span style="color:#66d9ef">nil</span>)
   <span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Search:  _a_mazon  _g_oogle  _t_ranslate  _e_ijiro  _m_aps  git_h_ub  _q_itta  _w_eblio  _p_〒  _k_古語  _r_類語 _._close&#34;</span>
  (<span style="color:#e6db74">&#34;a&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;amazon jp&#34;</span>))
  (<span style="color:#e6db74">&#34;e&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;eijiro&#34;</span>))
  (<span style="color:#e6db74">&#34;g&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;google&#34;</span>))
  (<span style="color:#e6db74">&#34;m&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;google maps&#34;</span>))
  (<span style="color:#e6db74">&#34;h&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;github&#34;</span>))
  (<span style="color:#e6db74">&#34;q&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;qitta&#34;</span>))
  (<span style="color:#e6db74">&#34;w&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;weblio&#34;</span>))
  (<span style="color:#e6db74">&#34;p&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;post&#34;</span>))
  (<span style="color:#e6db74">&#34;k&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;kobun&#34;</span>))
  (<span style="color:#e6db74">&#34;r&#34;</span> (search-web-dwim <span style="color:#e6db74">&#34;ruigo&#34;</span>))
  (<span style="color:#e6db74">&#34;t&#34;</span> google-translate-auto)
  (<span style="color:#e6db74">&#34;q&#34;</span> <span style="color:#66d9ef">nil</span>)
  (<span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#66d9ef">nil</span> :color blue)))

<span style="color:#75715e">;; Local Variables:</span>
<span style="color:#75715e">;; byte-compile-warnings: (not free-vars callargs)</span>
<span style="color:#75715e">;; End:</span>
<span style="color:#75715e">;;; 50_hydra-search-web.el ends here</span>
</code></pre></div><h2 id="まとめ">まとめ</h2>
<p><img src="https://farm8.staticflickr.com/7891/47410497172_5f912d55c9_b.jpg" alt="Alt Text"></p>
<p>とりいそぎざっくりと紹介しました。自作のコードはほとんどなく大半はパッチワークです。</p>
<p>Emacsの設定ファイルはGitHubに公開していますので興味ある方は覗いてみてください。</p>
<ul>
<li><a href="https://github.com/minorugh/emacs.d">https://github.com/minorugh/emacs.d</a></li>
</ul>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="http://minorugh.github.io/tags/hydra/">hydra</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="http://minorugh.github.io/categories/emacs/">emacs</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        5303 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2019年03月25日 16:37
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;caption=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;canonicalUrl=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;body=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f&amp;media=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f;description=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f&amp;title=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;summary=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;source=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f&amp;resubmit=true&amp;title=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f;title=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b%20http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f&amp;t=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=Hydra%e3%81%a7Emacs%e3%81%ae%e3%82%ad%e3%83%bc%e3%83%90%e3%82%a4%e3%83%b3%e3%83%89%e5%95%8f%e9%a1%8c%e3%82%92%e8%a7%a3%e6%b6%88%e3%81%99%e3%82%8b&amp;url=http%3a%2f%2fminorugh.github.io%2fposts%2femacs-key-binding-with-hydra%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="http://minorugh.github.io/posts/open-terminal-in-current-directory-from-emacs/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Emacsからカレントディレクトリでターミナルアプリを開く</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="http://minorugh.github.io/posts/multiple-make-commands/">
                    <span class="button__text">Hydraで複数のmakeコマンドを自在に使う</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="http://minorugh.github.io/"></a></span>
            <span></span>
            <span><a href="http://minorugh.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.ace63d93098bf623f7c286a9084a4c22bfc482944c734f87fe0b685c7c6c7fa0ad2edb028c3b4b60d3343720c8ab490b320ad7f8edf4f6e9a6b898fc529057a9.js" integrity="sha512-rOY9kwmL9iP3woapCEpMIr/EgpRMc0&#43;H/gtoXHxsf6CtLtsCjDtLYNM0NyDIq0kLMgrX&#43;O309ummuJj8UpBXqQ=="></script>



    </body>
</html>
